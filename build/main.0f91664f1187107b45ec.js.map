{"version":3,"sources":["webpack:///./index.js","webpack:///./js/plugin-timer.js","webpack:///./templates/timer.hbs"],"names":["constructor","selector","targetDate","this","start","setInterval","startTime","Date","now","deltaTime","time","getTimeComponents","days","hours","mins","secs","timeContainer","document","querySelector","timerMarkup","timerTpl","innerHTML","insertAdjacentHTML","updateClockView","pad","Math","floor","value","String","padStart","Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call"],"mappings":"4JAGA,ICDO,MACHA,aAAY,SAAEC,EAAF,WAAYC,IACpBC,KAAKF,SAAWA,EAChBE,KAAKD,WAAaA,EAElBC,KAAKC,QAGTA,QACIC,YAAY,KACR,MAAMC,EAAYC,KAAKC,MAEjBC,EAAYN,KAAKD,WAAaI,EAC9BI,EAAOP,KAAKQ,kBAAkBF,IA+ChD,SAAyBR,GAAU,KAAEW,EAAF,MAAQC,EAAR,KAAeC,EAAf,KAAqBC,IACpD,MAAMC,EAAgBC,SAASC,cAAcjB,GACvCkB,EAAcC,IAAS,CAAER,OAAMC,QAAOC,OAAMC,SAClDC,EAAcK,UAAY,GAC1BL,EAAcM,mBAAmB,YAAaH,GAjDtCI,CAAgBpB,KAAKF,SAAUS,IAChC,KAGPC,kBAAkBD,GA8Bd,MAAO,CAAEE,KAzBIT,KAAKqB,IAAIC,KAAKC,MAAMhB,EAAO,QAyBzBG,MAlBDV,KAAKqB,IACfC,KAAKC,MAAOhB,EAAO,MAAR,OAiBOI,KAVTX,KAAKqB,IACdC,KAAKC,MAAOhB,EAAO,KAAR,MASaK,KAFfZ,KAAKqB,IAAIC,KAAKC,MAAOhB,EAAO,IAAe,OAQ5Dc,IAAIG,GACA,OAAOC,OAAOD,GAAOE,SAAS,EAAG,ODvDtB,CACf5B,SAAU,WACVC,WAAY,IAAIK,KAAK,mB,qBELzB,IAAIuB,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,SAAW,CAAC,EAAE,YAAY,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GACzI,IAAIC,EAAQC,EAAiB,MAAVL,EAAiBA,EAAUD,EAAUO,aAAe,GAAKC,EAAOR,EAAUS,MAAMC,cAAkCC,EAAOX,EAAUY,iBAAkBC,EAAiBb,EAAUa,gBAAkB,SAASC,EAAQC,GAClO,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,kEACHJ,EARuH,mBAQ9GN,EAAmH,OAAzGA,EAASQ,EAAeX,EAAQ,UAAsB,MAAVD,EAAiBY,EAAeZ,EAAO,QAAUA,IAAmBI,EAASG,GAAoCH,EAAOc,KAAKb,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAChT,2HACAM,EAVuH,mBAU9GN,EAAqH,OAA3GA,EAASQ,EAAeX,EAAQ,WAAuB,MAAVD,EAAiBY,EAAeZ,EAAO,SAAWA,IAAmBI,EAASG,GAAoCH,EAAOc,KAAKb,EAAO,CAAC,KAAO,QAAQ,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GACnT,2HACAM,EAZuH,mBAY9GN,EAAmH,OAAzGA,EAASQ,EAAeX,EAAQ,UAAsB,MAAVD,EAAiBY,EAAeZ,EAAO,QAAUA,IAAmBI,EAASG,GAAoCH,EAAOc,KAAKb,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASC,GAClT,6HACAM,EAduH,mBAc9GN,EAAmH,OAAzGA,EAASQ,EAAeX,EAAQ,UAAsB,MAAVD,EAAiBY,EAAeZ,EAAO,QAAUA,IAAmBI,EAASG,GAAoCH,EAAOc,KAAKb,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASC,GAClT,2DACJ,SAAU,M","file":"main.0f91664f1187107b45ec.js","sourcesContent":["import \"./styles.css\";\nimport { CountdownTimer } from \"./js/plugin-timer\";\n\nnew CountdownTimer({\n    selector: \"#timer-1\",\n    targetDate: new Date(\"Jun 29, 2021\"),\n});\n","import timerTpl from \"../templates/timer.hbs\";\n\nexport class CountdownTimer {\n    constructor({ selector, targetDate }) {\n        this.selector = selector;\n        this.targetDate = targetDate;\n\n        this.start();\n    }\n\n    start() {\n        setInterval(() => {\n            const startTime = Date.now();\n\n            const deltaTime = this.targetDate - startTime;\n            const time = this.getTimeComponents(deltaTime);\n\n            updateClockView(this.selector, time);\n        }, 1000);\n    }\n\n    getTimeComponents(time) {\n        /*\n         * Оставшиеся дни: делим значение UTC на 1000 * 60 * 60 * 24, количество\n         * миллисекунд в одном дне (миллисекунды * секунды * минуты * часы)\n         */\n        const days = this.pad(Math.floor(time / (1000 * 60 * 60 * 24)));\n\n        /*\n         * Оставшиеся часы: получаем остаток от предыдущего расчета с помощью оператора\n         * остатка % и делим его на количество миллисекунд в одном часе\n         * (1000 * 60 * 60 = миллисекунды * минуты * секунды)\n         */\n        const hours = this.pad(\n            Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))\n        );\n\n        /*\n         * Оставшиеся минуты: получаем оставшиеся минуты и делим их на количество\n         * миллисекунд в одной минуте (1000 * 60 = миллисекунды * секунды)\n         */\n        const mins = this.pad(\n            Math.floor((time % (1000 * 60 * 60)) / (1000 * 60))\n        );\n\n        /*\n         * Оставшиеся секунды: получаем оставшиеся секунды и делим их на количество\n         * миллисекунд в одной секунде (1000)\n         */\n        const secs = this.pad(Math.floor((time % (1000 * 60)) / 1000));\n\n        return { days, hours, mins, secs };\n    }\n\n    /*\n     * Принимает число, приводит к строке и добавляет в начало 0 если число меньше 2-х знаков\n     */\n    pad(value) {\n        return String(value).padStart(2, \"0\");\n    }\n}\n\nfunction updateClockView(selector, { days, hours, mins, secs }) {\n    const timeContainer = document.querySelector(selector);\n    const timerMarkup = timerTpl({ days, hours, mins, secs });\n    timeContainer.innerHTML = \"\";\n    timeContainer.insertAdjacentHTML(\"beforeEnd\", timerMarkup);\n}\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"field\\\">\\n    <span class=\\\"value\\\" data-value=\\\"days\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"days\") || (depth0 != null ? lookupProperty(depth0,\"days\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"days\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":42},\"end\":{\"line\":2,\"column\":50}}}) : helper)))\n    + \"</span>\\n    <span class=\\\"label\\\">Days</span>\\n</div>\\n\\n<div class=\\\"field\\\">\\n    <span class=\\\"value\\\" data-value=\\\"hours\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"hours\") || (depth0 != null ? lookupProperty(depth0,\"hours\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"hours\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":43},\"end\":{\"line\":7,\"column\":52}}}) : helper)))\n    + \"</span>\\n    <span class=\\\"label\\\">Hours</span>\\n</div>\\n\\n<div class=\\\"field\\\">\\n    <span class=\\\"value\\\" data-value=\\\"mins\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"mins\") || (depth0 != null ? lookupProperty(depth0,\"mins\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"mins\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":42},\"end\":{\"line\":12,\"column\":50}}}) : helper)))\n    + \"</span>\\n    <span class=\\\"label\\\">Minutes</span>\\n</div>\\n\\n<div class=\\\"field\\\">\\n    <span class=\\\"value\\\" data-value=\\\"secs\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"secs\") || (depth0 != null ? lookupProperty(depth0,\"secs\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"secs\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":42},\"end\":{\"line\":17,\"column\":50}}}) : helper)))\n    + \"</span>\\n    <span class=\\\"label\\\">Seconds</span>\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}