{"version":3,"sources":["webpack:///./js/refs.js","webpack:///./index.js","webpack:///./js/countryApi.js","webpack:///./templates/countrys-list.hbs","webpack:///./templates/countrys-item.hbs"],"names":["refs","inputBtn","document","querySelector","container","debounce","require","inputButton","countryApiService","constructor","this","countryName","fetchCountrys","url","fetch","then","response","json","newName","showErrorMessage","title","text","error","addEventListener","e","countryQuery","target","value","trim","name","countrys","countrysLength","length","status","innerHTML","insertAdjacentHTML","countryItemTpl","appendItemCountryMarkup","countryNames","map","country","countryListTpl","Handlebars","module","exports","template","depth0","helpers","partials","data","escapeExpression","lambda","stack1","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","nullContext","program","noop","alias1","alias2","helper","hooks","helperMissing"],"mappings":"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","file":"main.d8ca55dc03fb993dcfda.js","sourcesContent":["export const refs = {\n    inputBtn: document.querySelector(\"#searchCountry\"),\n    container: document.querySelector(\"#container\"),\n};\n","import \"./styles.css\";\nimport \"@pnotify/core/dist/PNotify.css\";\nimport { error } from \"@pnotify/core\";\nimport \"@pnotify/core/dist/BrightTheme.css\";\n\nimport { refs } from \"./js/refs\";\nimport CountryApiService from \"./js/countryApi\";\nimport countryListTpl from \"./templates/countrys-list.hbs\";\nimport countryItemTpl from \"./templates/countrys-item.hbs\";\n\nvar debounce = require(\"lodash.debounce\");\n\nconst inputButton = refs.inputBtn;\nconst countryApiService = new CountryApiService();\n\ninputButton.addEventListener(\"input\", debounce(onInputSearch, 500));\n\nfunction onInputSearch(e) {\n    const countryQuery = e.target.value.trim();\n\n    if (countryQuery) {\n        countryApiService.name = countryQuery;\n        countryApiService.fetchCountrys().then((countrys) => {\n            const countrysLength = countrys.length;\n\n            if (countrys.status === 404) {\n                const title = \"Oops!\";\n                const text = \"Invalid query.\";\n                showErrorMessage(title, text);\n            } else if (countrysLength > 10) {\n                const title = \"Oops!\";\n                const text =\n                    \"To many matches found. Enter a more specific query.\";\n                const notice = showErrorMessage(title, text);\n            } else if (countrysLength == 1) {\n                appendItemCountryMarkup(countrys);\n            } else {\n                appendListCountrysMarkup(\n                    countrys.map((country) => country.name)\n                );\n            }\n        });\n    }\n}\n\nfunction appendItemCountryMarkup(countrys) {\n    refs.container.innerHTML = \"\";\n    refs.container.insertAdjacentHTML(\"beforeend\", countryItemTpl(countrys));\n}\n\nfunction appendListCountrysMarkup(countryNames) {\n    refs.container.innerHTML = \"\";\n    refs.container.insertAdjacentHTML(\n        \"beforeend\",\n        countryListTpl(countryNames)\n    );\n}\n\nfunction showErrorMessage(title, text) {\n    error({\n        title: title,\n        text: text,\n    });\n}\n","const BASE_URL = \"https://restcountries.eu/rest/v2/name\";\n\nexport default class CountryApiService {\n    constructor() {\n        this.countryName = \"\";\n    }\n\n    fetchCountrys() {\n        const url = `${BASE_URL}/${this.countryName}`;\n        return fetch(url).then((response) => response.json());\n    }\n\n    get name() {\n        return this.countryName;\n    }\n\n    set name(newName) {\n        this.countryName = newName;\n    }\n}\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"        <li class=\\\"list-group-item\\\">\"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"list-group\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":4,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <div class=\\\"card mb-3\\\" style=\\\"max-width: 540px;\\\">\\n        <div class=\\\"row g-0\\\">\\n            <div class=\\\"col-md-8\\\">\\n                <div class=\\\"card-body\\\">\\n                    <h1 class=\\\"card-title\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</h1>\\n                    <p class=\\\"card-text\\\"><b>Capital: </b>\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"capital\") : depth0), depth0))\n    + \"</p>\\n                    <p class=\\\"card-text\\\"><b>Population:\\n                        </b>\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"population\") : depth0), depth0))\n    + \"</p>\\n                    <p class=\\\"card-text\\\"><b>Languages:</b></p>\\n\\n                    <ul>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":24},\"end\":{\"line\":15,\"column\":33}}})) != null ? stack1 : \"\")\n    + \"                    </ul>\\n\\n                </div>\\n            </div>\\n\\n            <div class=\\\"col-md-4\\\">\\n                <img class=\\\"flag-img\\\" src=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"flag\") : depth0), depth0))\n    + \" alt=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \" />\\n            </div>\\n        </div>\\n    </div>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                            <li>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":32},\"end\":{\"line\":14,\"column\":40}}}) : helper)))\n    + \"</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}